## 2023-04-15

【本周工作重点】

1. 【分拨业务线0420迭代】已提测

2. 【组织树优化】已发布灰度

3. 【0420KPI配置】

【问题反馈】

1. 【分拨0420迭代】【破损丢失分析】这个模块问题很大，无论是交互上的设计还是代码上的设计。从交互上看，明细页先跳转汇总页，汇总页再跳转明细页，明细页还可以继续跳转汇总页；从代码上看，不同的汇总页进入【理赔票明细】地址栏上带进去的入参结构都不一样。
2. 【分拨0420迭代】【破损丢失分析】很不稳定，给我的感觉就是随便改一点东西，就容易引起串联的一系列问题，有些问题都不知道为什么会出现，我的改动明明不涉及出问题的地方，原因就是入口太多，每一个入口入参都是依赖来源动态生成的，一旦进入【票明细】的前一环节的入参没处理好，其他地方全是乱的。
3. 【组织树优化】前期没调研好，数据问题引发了很多联动问题，生产的历史组织树是没有departmentIdRoute这个字段的，还好公共组织树组件提供了treeMap对象，可以用节点树的parentId去层层反查父级组织树路径
4. 【0420KPI配置】做联调需求先找准切入点，明显要先做指标分组动态改数据字典，后端拖着不做，前端直接什么都做不了。明显现存的三个组织层级就可以当做是对象配置，为什么要先急着做对象配置。

【改进项或措施】

1. 【0420KPI配置】因为是提供给多个KPI使用KPI配置的功能，最好是将功能组件全部拆分到最小，将组件内部调用接口的操作全部提取到组件外部，避免后期又在组件内部写过多的if/else语句
2. 【0420KPI配置】可以将拆分出来的组件独立，分拨KPI与取派KPI分开继承原组件，把它当做一个HOC组件，在这个组件里面做一些区分指标的逻辑

【创新及分享】

1. 暂无

【下周工作重点】

1. 【分拨0420迭代】上线
2. 【组织树优化】上线
3. 【0420KPI配置】联调
