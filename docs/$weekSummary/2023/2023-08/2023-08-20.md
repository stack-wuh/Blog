## 2023-08-20

【本周工作重点】

1.【KPI考核得分】【测试/生产模式切换】已发布UAT

2.【KPI考核得分】【KSOA】已发布UAT

【问题反馈与改进措施】

1. 【KPI考核得分】有些具有联动性的bug出现，两个模式互相切换时，页头的查询条件是动态的、通过远程接口查出来的数据，所以不得不将两种模式的入参分开缓存，每次切换都需要重置对应的缓存查询条件后查询下拉条件。下次再有这种情景出现，都可以分开缓存对应Tab的查询条件，不要在一份数据源上修改。
2. 【KSOA】KPI考核里面涉及到OA流程时，OA默认的提交页面满足不了需求，这个时候可以使用KSOA提供的diy类型的自定义页面，里面是可以访问到上下文的，就是层级嵌套有点深。可以利用vue的$root属性解决多层级嵌套问题，$root永远指向根，孙组件可以直接使用root内的表单数据。
3. 【代码优化】现在表格组件和一些逻辑比较多的组件，代码全部集中在一个文件里面，比如KPI配置后台的目标配置。代码太长，逻辑又集中看起来也不方便，对于这种文件，可以根据小功能将其拆解到对应的mixin文件。按照功能区分文件之后，后期我们维护长代码应该是比较容易的，只要去对应功能的文件内部去看去改就可以了。

【创新与分享】

1. 【工具相关】现在上线会出现模块权限没有同步的问题，我准备了一个根据接口自动生成模块权限的工具，后期可以将这个工具跟我们的代码结合起来，可以直接将authcode和buttonId反写入源码；同时利用代码的注释能力，注释里面写上迭代日期，可以自动生成模块权限相关的checklist。
2. 【通用查询】本周周会仍然提出了一些关于通用查询维护的问题，对于同时更改多个通用查询还是会存在漏改、错改的问题。这一步流程我觉得可以优化一下，我们可以提供一个管理后台，支持将多个通用查询编组，满足同时修改多个通用查询的需求。支持将通用查询关联迭代，满足checklist的需求。