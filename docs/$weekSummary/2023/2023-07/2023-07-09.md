## 2023-07-09

【本周工作重点】

1. 【0706迭代】【盘活运力】已上线：本周主要负责分拨业务线0706迭代的前端开发工作，新增了盘活运力的指标静态页面，并已经上线。
2. 【0713迭代】【破损丢失分析】【盘活运力】已发布STG
3. 【潘多拉优化】已完成爬虫数据采集脚本

【问题反馈与改进措施】

1. 【盘活运力】本次迭代的后台和数据的问题较多，前端除了数据问题之外，没有什么问题。其中有一些低级问题，主要是因为前端开发时，还没有正常的数据，支持前端点击组织下钻和数据字典。在以后的开发过程中，后台的时间要合理安排，耗时较长的任务要排在前面，不要自己坑自己。
2. 【破损丢失分析】这个模块还可以继续优化，尤其是产品侧。这次优化需求虽然只提到在首页加时间这个查询条件，但是各个明细页都需要与主干的查询条件联动。我发现了这个问题才去找的产品，这个模块的优化需求一定要谨慎，多想一想会涉及到哪些页面的改动。
3. 【盘活运力】测试最起码要有判断一些简单问题的能力，数据问题、交互问题全部给前端排查的吗？可不可先排查一下是不是参数的问题。这次迭代我几乎是全程陪跑，不停地在看群里面的消息，帮着一起看数据。尤其是权限问题，我都说了是接口没配权限，还不停地找我，这种基础的问题难道不能分清？
4. 【潘多拉优化】大致上完成了采集数据的需求，测试性质地将ElementUI的组件数据爬了出来，遇到的问题有点多，还比较恶心，比如在el-select组件中其实是有el-option这个子组件，但是在select模块又没有option这个组件的声明，所以只能用关键字爬取。
5. 【生产问题】【盘活运力】【权限问题】权限接口是查的实时月份的组织树数据，但是【盘活运力】是一个特殊的模块，它是按周查的，每周六才能查当前周的数据。所以在跨月的时候组织树数据就有一点差异。

【创新】

1. 【潘多拉优化】【组件数据爬取】利用puppeteer开启一个测试浏览器，首先爬取左侧菜单栏数据，以菜单项为分组，依次跳转至指定链接页面。直接利用cherrio操作DOM元素，获取attributes、events、slot和scoped slot对应的表格数据。
2. 【组件数据爬取】支持批量爬取更新、暂未支持单条爬取更新